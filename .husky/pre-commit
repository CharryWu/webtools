#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "ğŸ” Running pre-commit tests for text2longimage..."
cd text2longimage && npm test

# Run linting but don't fail on warnings, only on errors
if [ -f "text2longimage/package.json" ] && grep -q "lint" text2longimage/package.json; then
  echo "ğŸ”§ Running ESLint (warnings allowed)..."
  cd text2longimage && npm run lint || echo "âš ï¸  ESLint found issues but continuing..."
fi

echo "âœ… Pre-commit checks completed!"
